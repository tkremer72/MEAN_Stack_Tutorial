<mat-card>
  <!-- Show the spinner if isLoading is true -->
  <mat-spinner *ngIf="isLoading"></mat-spinner>

  <!-- Show the spinner if isLoading is false -->
  <form [formGroup]="form" (submit)="onSaveBlog()" *ngIf="!isLoading">

    <div>
<!-- Hide the input picker from the DOM and simulate the picker with the button -->
      <button mat-stroked-button type="button" (click)="filePicker.click()">Pick Image</button>
      <!-- Use CSS to hide the input below use a local reference to bind the file picker to the click event in the button-->
      <input type="file" #filePicker (change)="onPickedImage($event)">

    </div>
    <div class="image-preview" *ngIf="imagePreview !== ' ' && imagePreview && form.get('image').valid">
      <img [src]="imagePreview" [alt]="form.value.title">
    </div>
    <mat-form-field>

      <input
      matInput
      type="text"
      formControlName="title"
      placeholder="Title"
        >
      <!-- Adding the ? to the ngModel above is called using the elvis operator for angular to load without having a property to start out with? -->
      <mat-error *ngIf="form.get('title').invalid">Please enter a blog title.</mat-error>

    </mat-form-field>

    <mat-form-field>

      <textarea
      matInput
      rows="6"
      formControlName="content"
      placeholder="Content"></textarea>

      <mat-error *ngIf="form.get('content').invalid">Please enter some blog content.</mat-error>

    </mat-form-field>

    <mat-form-field>

      <input
      matInput
      type="text"
      formControlName="author"
      placeholder="Author">

      <mat-error *ngIf="form.get('author').invalid">Please enter an author.</mat-error>

    </mat-form-field>

    <mat-form-field>

      <input
      matInput
      type="date"
      formControlName="date"
      placeholder="Date">

      <mat-error *ngIf="form.get('date').invalid">Please enter the date.</mat-error>

    </mat-form-field>

    <button color="accent" mat-raised-button typ="submit">Save Post</button>

  </form>

</mat-card>


<!-- <p>
  {{ newBlog }}
</p> -->
